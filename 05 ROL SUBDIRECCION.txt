Dashboard Principal ‚Äì Resumen de Gastos Relevantes (Laravel)

Resultado esperado
Una pantalla principal clara y ejecutiva, que permita a un Subdirector responder r√°pidamente:

‚Äú¬øC√≥mo va el gasto este mes, d√≥nde est√° el riesgo y qu√© lo explica?‚Äù

Contexto
Existe una plataforma anal√≠tica hospitalaria desarrollada en Laravel que ya cuenta con datos de gastos financieros ejecutados cargados en PostgreSQL mediante un ETL.
La visualizaci√≥n principal final ser√° Power BI, pero antes se requiere un dashboard interno en la web (Laravel) para:

Mostrar un resumen ejecutivo del estado del gasto

Dar ejemplos claros de an√°lisis a Subdirecci√≥n

Validar que los datos est√°n correctos

Servir como punto de entrada al sistema

‚ö†Ô∏è Laravel NO debe convertirse en un BI completo.
Este dashboard es resumen + control, no an√°lisis profundo.

Objetivo de esta tarea

Implementar el Dashboard Principal (Home) en Laravel con un snapshot ejecutivo de gastos relevantes, orientado a toma de decisiones administrativas.

Principios obligatorios

Usar views SQL en PostgreSQL como fuente de datos (no l√≥gica anal√≠tica en Eloquent).

Mostrar pocos indicadores clave, no tablas largas.

Priorizar riesgo, tendencia y explicaci√≥n del gasto, no detalle contable.

Dise√±o simple, r√°pido de leer (30 segundos).

Contenido del Dashboard Principal
1Ô∏è‚É£ Encabezado de contexto

Mes/A√±o visualizado (por defecto: √∫ltimo mes disponible)

Fecha y estado de la √∫ltima carga (OK / con errores)

2Ô∏è‚É£ Cards KPI (4‚Äì6 tarjetas)

Implementar cards con:

Devengado del mes

Devengado acumulado YTD

Variaci√≥n vs mes anterior (MoM)

monto

porcentaje

Promedio √∫ltimos 3 meses

Proyecci√≥n fin de a√±o (run-rate)

c√°lculo simple: (YTD / meses_con_dato) * 12

(Opcional si existe el dato) % ejecuci√≥n vs presupuesto

3Ô∏è‚É£ Tabla ‚ÄúLo que requiere atenci√≥n‚Äù (Sem√°foro)

Tabla corta (m√°x. 5 filas) con:

Subt√≠tulo / √çtem

Devengado del mes

Ratio de aceleraci√≥n

devengado_mes / promedio_3_meses

Variaci√≥n MoM (%)

Estado visual:

üü¢ normal

üü† alerta

üî¥ cr√≠tico

Reglas sugeridas

üî¥ ratio > 1.25 o variaci√≥n MoM > 30%

üü† ratio entre 1.10 y 1.25

üü¢ resto

4Ô∏è‚É£ Rankings explicativos

Mostrar dos tablas peque√±as:

Top 5 subt√≠tulos por gasto del mes

Top 10 √≠tems por gasto del mes
(Subt√≠tulo ‚Äì √çtem ‚Äì Asignaci√≥n ‚Äì Monto)

5Ô∏è‚É£ Navegaci√≥n (acciones)

Botones/enlaces a:

Tendencia de gasto (12 meses)

Detalle por subt√≠tulo

Control de importaciones / errores

Fuente de datos (OBLIGATORIO)

El dashboard debe consumir exclusivamente views SQL en PostgreSQL, por ejemplo:

vw_kpi_gastos_mes

vw_top_subtitulos_mes

vw_top_items_mes

vw_alertas_aceleracion

(Si no existen a√∫n, deben crearse como parte de la soluci√≥n.)

Alcance t√©cnico esperado

Rutas y controlador para el dashboard home

Blade view con cards + tablas simples

Consultas a views SQL

Control de acceso por rol (Admin / Editor / Visor)

C√≥digo limpio y desacoplado del BI final